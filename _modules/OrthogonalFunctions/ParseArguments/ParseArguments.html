
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OrthogonalFunctions.ParseArguments.ParseArguments &#8212; Orthogonal Functions  documentation</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script src="../../../_static/toggleprompt.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Orthogonal Functions  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">OrthogonalFunctions.ParseArguments.ParseArguments</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for OrthogonalFunctions.ParseArguments.ParseArguments</h1><div class="highlight"><pre>
<span></span><span class="c1"># =======</span>
<span class="c1"># Imports</span>
<span class="c1"># =======</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">getopt</span>

<span class="c1"># =============</span>
<span class="c1"># Print Version</span>
<span class="c1"># =============</span>

<div class="viewcode-block" id="PrintVersion"><a class="viewcode-back" href="../../OrthogonalFunctions.ParseArguments.html#OrthogonalFunctions.ParseArguments.ParseArguments.PrintVersion">[docs]</a><span class="k">def</span> <span class="nf">PrintVersion</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Prints the version of the code given in ``/OrthogonalFunctions/__version__.py``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Get the parent directory of this script</span>
    <span class="n">FileDirectory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
    <span class="n">ParentDirectory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">FileDirectory</span><span class="p">)</span>

    <span class="c1"># Find the version</span>
    <span class="n">version_dummy</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">exec</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ParentDirectory</span><span class="p">,</span><span class="s1">&#39;__version__.py&#39;</span><span class="p">),</span><span class="s1">&#39;r&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span><span class="n">version_dummy</span><span class="p">)</span>
    <span class="n">Version</span> <span class="o">=</span> <span class="n">version_dummy</span><span class="p">[</span><span class="s1">&#39;__version__&#39;</span><span class="p">]</span>
    <span class="k">del</span> <span class="n">version_dummy</span>
   
    <span class="c1"># String to print</span>
    <span class="n">VersionString</span> <span class="o">=</span> \
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Version %s</span>
<span class="sd">            &quot;&quot;&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">Version</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">VersionString</span><span class="p">)</span></div>

<span class="c1"># =============</span>
<span class="c1"># Print License</span>
<span class="c1"># =============</span>

<div class="viewcode-block" id="PrintLicense"><a class="viewcode-back" href="../../OrthogonalFunctions.ParseArguments.html#OrthogonalFunctions.ParseArguments.ParseArguments.PrintLicense">[docs]</a><span class="k">def</span> <span class="nf">PrintLicense</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Prints the license and author info.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">LicenseString</span> <span class="o">=</span> \
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Author: </span>
<span class="sd">Siavash Ameli</span>
<span class="sd">University of California, Berkeley</span>
<span class="sd">April 27, 2020</span>

<span class="sd">License: MIT</span>
<span class="sd">            &quot;&quot;&quot;</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">LicenseString</span><span class="p">)</span></div>

<span class="c1"># ===========</span>
<span class="c1"># Print Usage</span>
<span class="c1"># ===========</span>

<div class="viewcode-block" id="PrintUsage"><a class="viewcode-back" href="../../OrthogonalFunctions.ParseArguments.html#OrthogonalFunctions.ParseArguments.ParseArguments.PrintUsage">[docs]</a><span class="k">def</span> <span class="nf">PrintUsage</span><span class="p">(</span><span class="n">ExecName</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Prints the usage for the stand-alone application.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">UsageString</span> <span class="o">=</span> \
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Usage:</span>
<span class="sd">$ %s  [options]</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">ExecName</span><span class="p">)</span>

    <span class="n">OptionsString</span> <span class="o">=</span> \
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Optional arguments:</span>

<span class="sd">-h --help                   Prints this help message.</span>
<span class="sd">-v --version                Prints version</span>
<span class="sd">-l --license                Prints author info, citation and license.</span>
<span class="sd">-n --num-func[=int]         Number of orthogonal functions to generate. Positive integer. Default is 9.</span>
<span class="sd">-s --start-func[=int]       Starting function index. Non-negative integer. Default is 1.</span>
<span class="sd">-e --end-interval[=float]   End of the interval of functions domains. Real number greater than zero. Default is 1.</span>
<span class="sd">-c --check                  Checks orthogonality of generated functions.</span>
<span class="sd">-p --plot                   Plots generated functions, also saves the plot as pdf and svg file in the current directory.</span>
<span class="sd">            &quot;&quot;&quot;</span>

    <span class="n">ExampleString</span> <span class="o">=</span> \
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Description:</span>

<span class="sd">This script generates a set of orthonormal functions, called phi_perp, based on the set of non-orthonormal functions</span>

<span class="sd">    phi_i(t) = t**(1/(i+i)),      i = I, ... , I+N</span>

<span class="sd">The orthonormalized functions phi_perp_i are linear combination of the functions phi_i, as</span>

<span class="sd">    phi_perp_i(t) = alpha_i * sum_{j=I}^{I+N} a_{ij} phi_j(t)</span>

<span class="sd">The functions phi_perp are orthonormal in the interval [0,L] with respect to weight w(t) = 1/t. That is</span>

<span class="sd">    int_0^L phi_perp_i(t) phi_perp_j(t) 1/t dt = delta_{ij}</span>

<span class="sd">where delta_{ij} is the Kronecker delta function.</span>

<span class="sd">The script can be configured as follows:</span>

<span class="sd">   Variable     Variable in script              Option</span>
<span class="sd">   --------    --------------------    -------------------------</span>
<span class="sd">      I         &quot;StartFunctionIndex&quot;    &quot;-s&quot;, or &quot;--start-func&quot;</span>
<span class="sd">      N         &quot;NumFunctions&quot;          &quot;-n&quot;, or &quot;--num-func&quot;</span>
<span class="sd">      L         &quot;EndInterval&quot;           &quot;-e&quot;, or &quot;--end-interval&quot; </span>

<span class="sd">Output:</span>

<span class="sd">1. Prints the symbolic functions</span>
<span class="sd">2. Prints a human readable coefficients, &quot;alpha&quot; and &quot;a&quot; of the functions</span>
<span class="sd">3. Prints a matrix of mutual inner product of functions to check orthogonality (with option &quot;-c&quot;)</span>
<span class="sd">4. Plots the set of functions (with option &quot;-p&quot;)</span>
<span class="sd">5. Saves the plot as pdf and svg in the current directory (with option &quot;-p&quot;)</span>

<span class="sd">Examples:</span>

<span class="sd">1. Generate nine orthogonal functions from function index 1 to 9</span>
<span class="sd">    $ %s</span>

<span class="sd">2. Generate seven orthogonal functions from function index 1 to 8</span>
<span class="sd">    $ %s -n 8</span>

<span class="sd">3. Generate nine orthogonal functions from function index 0 to 8</span>
<span class="sd">    $ %s -s 0</span>

<span class="sd">4. Generate nine set of orthogonal functions starting from function 1, that are orthonormal in the interval [0,10]</span>
<span class="sd">    $ %s -e 10</span>

<span class="sd">5. Check orthogonality of each two function, and plot the orthonormal functions and save the plot to pdf and svg</span>
<span class="sd">    $ %s -c -p</span>

<span class="sd">6. A complete example:</span>
<span class="sd">    $ %s -n 9 -s 1 -e 1 -c -p</span>

<span class="sd">            &quot;&quot;&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">ExecName</span><span class="p">,</span><span class="n">ExecName</span><span class="p">,</span><span class="n">ExecName</span><span class="p">,</span><span class="n">ExecName</span><span class="p">,</span><span class="n">ExecName</span><span class="p">,</span><span class="n">ExecName</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">UsageString</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">OptionsString</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ExampleString</span><span class="p">)</span></div>

<span class="c1"># ===============</span>
<span class="c1"># Parse Arguments</span>
<span class="c1"># ===============</span>

<div class="viewcode-block" id="ParseArguments"><a class="viewcode-back" href="../../OrthogonalFunctions.ParseArguments.html#OrthogonalFunctions.ParseArguments.ParseArguments.ParseArguments">[docs]</a><span class="k">def</span> <span class="nf">ParseArguments</span><span class="p">(</span><span class="n">argv</span><span class="p">,</span><span class="n">Test</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parses the argument of the executable.</span>

<span class="sd">    :param argv: list of keys and user inputs.</span>
<span class="sd">    :type: list</span>

<span class="sd">    :param Test: If ``True``, the program is not exited after options ``-h``, ``-v``, and ``-l``. </span>
<span class="sd">        If ``False``, the program is exited by the above options.</span>
<span class="sd">    :type Test: bool</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Initialize variables (defaults)</span>
    <span class="n">Arguments</span> <span class="o">=</span> \
    <span class="p">{</span>
        <span class="s1">&#39;CheckOrthogonality&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s1">&#39;PlotFlag&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">opts</span><span class="p">,</span><span class="n">args</span> <span class="o">=</span> <span class="n">getopt</span><span class="o">.</span><span class="n">getopt</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span><span class="s2">&quot;hvln:s:e:cp&quot;</span><span class="p">,[</span><span class="s2">&quot;help&quot;</span><span class="p">,</span><span class="s2">&quot;version&quot;</span><span class="p">,</span><span class="s2">&quot;license&quot;</span><span class="p">,</span><span class="s2">&quot;num-func=&quot;</span><span class="p">,</span><span class="s2">&quot;start-func=&quot;</span><span class="p">,</span><span class="s2">&quot;end-interval=&quot;</span><span class="p">,</span><span class="s2">&quot;check&quot;</span><span class="p">,</span><span class="s2">&quot;plot&quot;</span><span class="p">])</span>
    <span class="k">except</span> <span class="n">getopt</span><span class="o">.</span><span class="n">GetoptError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Invalid option entered.&#39;</span><span class="p">)</span>
        <span class="n">PrintUsage</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Assign options</span>
    <span class="k">for</span> <span class="n">opt</span><span class="p">,</span><span class="n">arg</span> <span class="ow">in</span> <span class="n">opts</span><span class="p">:</span>
        
        <span class="k">if</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;-h&#39;</span><span class="p">,</span><span class="s1">&#39;--help&#39;</span><span class="p">):</span>
            <span class="n">PrintUsage</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">Test</span><span class="p">:</span> <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;-v&#39;</span><span class="p">,</span><span class="s1">&#39;--version&#39;</span><span class="p">):</span>
            <span class="n">PrintVersion</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">Test</span><span class="p">:</span> <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;-l&quot;</span><span class="p">,</span><span class="s2">&quot;--license&quot;</span><span class="p">):</span>
            <span class="n">PrintLicense</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">Test</span><span class="p">:</span> <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;-n&quot;</span><span class="p">,</span><span class="s2">&quot;--num-func&quot;</span><span class="p">):</span>
            <span class="n">Arguments</span><span class="p">[</span><span class="s1">&#39;NumFunctions&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;-s&quot;</span><span class="p">,</span><span class="s2">&quot;--start-func&quot;</span><span class="p">):</span>
            <span class="n">Arguments</span><span class="p">[</span><span class="s1">&#39;StartFunctionIndex&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;-e&quot;</span><span class="p">,</span><span class="s2">&quot;--end-interval&quot;</span><span class="p">):</span>
            <span class="n">Arguments</span><span class="p">[</span><span class="s1">&#39;EndInterval&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;-c&quot;</span><span class="p">,</span><span class="s1">&#39;--check&#39;</span><span class="p">):</span>
            <span class="n">Arguments</span><span class="p">[</span><span class="s1">&#39;CheckOrthogonality&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;-p&quot;</span><span class="p">,</span><span class="s2">&quot;--plot&quot;</span><span class="p">):</span>
            <span class="n">Arguments</span><span class="p">[</span><span class="s1">&#39;PlotFlag&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="n">Arguments</span></div>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Orthogonal Functions  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">OrthogonalFunctions.ParseArguments.ParseArguments</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Siavash Ameli.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.3.1.
    </div>
  </body>
</html>